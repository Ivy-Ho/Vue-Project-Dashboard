{"version":3,"sources":["webpack:///./src/views/Dashboard.vue?5e00","webpack:///./src/views/Dashboard.vue?92aa","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?3f19","webpack:///./src/views/Dashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","_v","_m","on","$event","preventDefault","signout","token","_e","staticRenderFns","data","checkSuccess","created","checkLogin","methods","document","cookie","replace","$http","defaults","headers","common","Authorization","post","url","console","log","$router","push","component"],"mappings":"2IAAA,yBAAgd,EAAG,G,yCCAnd,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAACF,EAAG,cAAc,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,CAACC,KAAM,UAAU,CAACJ,EAAG,KAAK,CAACE,YAAY,uCAAuC,CAACN,EAAIS,GAAG,iBAAiBT,EAAIU,GAAG,GAAGN,EAAG,MAAM,CAACE,YAAY,2BAA2BC,MAAM,CAAC,GAAK,cAAc,CAACH,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACE,YAAY,WAAWC,MAAM,CAAC,GAAK,yBAAyB,CAACP,EAAIS,GAAG,WAAW,GAAGL,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACE,YAAY,WAAWC,MAAM,CAAC,GAAK,kBAAkB,CAACP,EAAIS,GAAG,WAAW,GAAGL,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACE,YAAY,WAAWC,MAAM,CAAC,GAAK,kBAAkB,CAACP,EAAIS,GAAG,WAAW,GAAGL,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACE,YAAY,WAAWC,MAAM,CAAC,GAAK,mBAAmB,CAACP,EAAIS,GAAG,YAAY,GAAGL,EAAG,SAAS,CAACE,YAAY,uBAAuBK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBb,EAAIc,QAAQF,MAAW,CAACZ,EAAIS,GAAG,aAAa,GAAIT,EAAgB,aAAEI,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQP,EAAIe,SAASf,EAAIgB,MAAM,IACrtCC,EAAkB,CAAC,WAAa,IAAIjB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,SAAS,cAAc,WAAW,cAAc,aAAa,gBAAgB,YAAY,gBAAgB,QAAQ,aAAa,sBAAsB,CAACH,EAAG,OAAO,CAACE,YAAY,4BCqC9U,G,oBAAA,CACEE,KAAM,YACNU,KAFF,WAGI,MAAO,CACLH,MAAO,GAEPI,cAAc,IAGlBC,QATF,WAUInB,KAAKoB,cAEPC,QAAS,CACPD,WADJ,WACA,WAEMpB,KAAKc,MAAQQ,SAASC,OAAOC,QAAQ,iDAAkD,MAEvFxB,KAAKyB,MAAMC,SAASC,QAAQC,OAAOC,cAAgB,UAAzD,mBAGM,IAAN,oEACM7B,KAAKyB,MAAMK,KAAKC,EAAK,CAA3B,uBACA,kBAEQ,QAAR,OACQ,EAAR,mBACA,mBAEQ,QAAR,gBACQ,EAAR,2BAGIlB,QApBJ,WAqBMS,SAASC,OAAS,sBAClBS,QAAQC,IAAI,aACZjC,KAAKkC,QAAQC,KAAK,cCzE2T,I,wBCQ/UC,EAAY,eACd,EACAtC,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E","file":"js/chunk-6b45f651.ed4278f8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard\"},[_c('nav',{staticClass:\"navbar navbar-expand-lg navbar-light bg-light\"},[_c('router-link',{staticClass:\"navbar-brand\",attrs:{\"to\":{name: 'Home'}}},[_c('h1',{staticClass:\"logo-fz logo-ff text-secondary mb-0\"},[_vm._v(\" 迴圈 ∞ 選框 \")])]),_vm._m(0),_c('div',{staticClass:\"collapse navbar-collapse\",attrs:{\"id\":\"navbarNav\"}},[_c('ul',{staticClass:\"navbar-nav ml-auto\"},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/AdminProducts\"}},[_vm._v(\"產品管理\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/orders\"}},[_vm._v(\"訂單管理\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/images\"}},[_vm._v(\"圖片管理\")])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/coupons\"}},[_vm._v(\"優惠券管理\")])],1),_c('button',{staticClass:\"btn btn-primary ml-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.signout($event)}}},[_vm._v(\"登出\")])])])],1),(_vm.checkSuccess)?_c('router-view',{attrs:{\"token\":_vm.token}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"navbar-toggler\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"}},[_c('span',{staticClass:\"navbar-toggler-icon\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dashboard\">\n    <!-- navebar start -->\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <router-link class=\"navbar-brand\" :to=\"{name: 'Home'}\">\n        <h1 class=\"logo-fz logo-ff text-secondary mb-0\">\n          迴圈 ∞ 選框\n        </h1>\n      </router-link>\n      <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\n        data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav ml-auto\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/AdminProducts\">產品管理</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/orders\">訂單管理</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/images\">圖片管理</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupons\">優惠券管理</router-link>\n          </li>\n          <button class=\"btn btn-primary ml-2\" @click.prevent=\"signout\">登出</button>\n        </ul>\n      </div>\n    </nav>\n    <!-- navebar end -->\n    <router-view :token=\"token\" v-if=\"checkSuccess\"></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      token: '',\n      // 驗證登入是否成功，先預設為失敗狀態\n      checkSuccess: false,\n    };\n  },\n  created() {\n    this.checkLogin();\n  },\n  methods: {\n    checkLogin() {\n      // 取得token\n      this.token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      // 將token作為預設值\n      this.$http.defaults.headers.common.Authorization = `Bearer ${this.token}`;\n\n      // 確認 Token 狀態 POST api/auth/check\n      const url = `${process.env.VUE_APP_APIPATH}api/auth/check`;\n      this.$http.post(url, { api_token: this.token })\n        .then((res) => {\n          // 登入沒有問題\n          console.log(res);\n          this.checkSuccess = true;\n        }).catch((err) => {\n          // 驗證失敗，轉回登入頁\n          console.log(err.response);\n          this.$router.push('/login');\n        });\n    },\n    signout() {\n      document.cookie = 'hexToken=;expires=;';\n      console.log('token 已清除');\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n\n<style>\n@import url(https://fonts.googleapis.com/earlyaccess/cwtexyen.css);\n@import url(https://fonts.googleapis.com/css2?family=Baloo+Tamma+2&display=swap);\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=fbeaea3c&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}